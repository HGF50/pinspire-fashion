<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pinspire Fashion</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="bg-gray-50">
    <div id="root"></div>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://upload-widget.cloudinary.com/global/all.js" type="text/javascript"></script>
    <script src="https://unpkg.com/@supabase/supabase-js"></script>
    
    <script type="text/babel">
        const { useState, useEffect } = React;
        
        function App() {
            // Configuration Supabase
            const supabase = window.supabase.createClient(
                'https://efhaleogjklkmemghwhy.supabase.co', // Votre URL Supabase
                'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVmaGFsZW9namtsa21lbWdod2h5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzE4NTYxNzEsImV4cCI6MjA4NzQzMjE3MX0.OmycO4pa2O7SxQPT-Urz174vO6hbaIGFcDlgTuY5Sis' // Votre cl√© anon
            );
            
            const [pins, setPins] = useState([]);
            const [loading, setLoading] = useState(true);
            const [showModal, setShowModal] = useState(false);
            const [selectedCategory, setSelectedCategory] = useState('all');
            const [newPin, setNewPin] = useState({
                title: '',
                description: '',
                board: '',
                imageUrl: '',
                imageFile: null
            });
            const [error, setError] = useState('');
            const [isUploading, setIsUploading] = useState(false);
            
            // Fonction pour supprimer un pin
            const deletePin = async (pinId) => {
                if (!confirm('√ätes-vous s√ªr de vouloir supprimer ce v√™tement ?')) {
                    return;
                }
                
                try {
                    console.log('Suppression du pin:', pinId);
                    
                    const { error } = await supabase
                        .from('pins')
                        .delete()
                        .eq('id', pinId);
                    
                    if (error) {
                        console.error('Erreur suppression:', error);
                        throw error;
                    }
                    
                    // Mettre √† jour l'√©tat local
                    setPins(prev => prev.filter(pin => pin.id !== pinId));
                    
                    console.log('Pin supprim√© avec succ√®s');
                    
                } catch (err) {
                    console.error('Erreur suppression compl√®te:', err);
                    setError('Erreur lors de la suppression');
                }
            };
            
            // Fonction pour charger les pins depuis Supabase au d√©marrage
            useEffect(() => {
                loadPins();
            }, []);
            
            // Fonction pour charger les pins
            const loadPins = async () => {
                try {
                    setLoading(true);
                    console.log('Tentative de chargement...');
                    
                    const { data, error } = await supabase
                        .from('pins')
                        .select('*');
                    
                    console.log('Donn√©es re√ßues:', { data, error });
                    
                    if (error) {
                        console.error('Erreur Supabase:', error);
                        // Si la table n'existe pas, on cr√©e une structure de base
                        if (error.code === 'PGRST116') {
                            console.log('La table n existe pas, utilisation du mode d√©grad√©');
                            setPins([]);
                            return;
                        }
                        throw error;
                    }
                    
                    setPins(data || []);
                } catch (err) {
                    console.error('Erreur chargement compl√®te:', err);
                    setError('Erreur: ' + (err.message || 'Probl√®me de connexion'));
                } finally {
                    setLoading(false);
                }
            };
            
            // Configuration Cloudinary
            const cloudinaryConfig = {
                cloudName: 'dmlytexqw', // Cloud name corrig√© (dm**L**ytexqw)
                uploadPreset: 'pinspire' // Preset unsigned confirm√© 
            };
            
            // Fonction d'upload simplifi√©e vers Cloudinary
            const uploadImageToCloudinary = () => {
                console.log('D√©but upload Cloudinary...');
                return new Promise((resolve, reject) => {
                    setIsUploading(true);
                    
                    const widget = cloudinary.createUploadWidget({
                        cloudName: 'dmlytexqw',
                        uploadPreset: 'pinspire',
                        folder: 'pinspire-fashion',
                        multiple: false,
                        maxFileSize: 5000000,
                        sources: ['local', 'camera']
                    }, (error, result) => {
                        console.log('Widget callback:', { error, result });
                        setIsUploading(false);
                        
                        if (error) {
                            console.error('Erreur widget:', error);
                            reject(error);
                            return;
                        }
                        
                        if (result.event === "success") {
                            console.log('Upload succ√®s:', result.info.secure_url);
                            resolve(result.info.secure_url);
                        }
                    });
                    
                    widget.open();
                });
            };
            
            // G√©rer l'URL pour la cat√©gorie s√©lectionn√©e
            useEffect(() => {
                const urlParams = new URLSearchParams(window.location.search);
                const categoryFromUrl = urlParams.get('category');
                if (categoryFromUrl && categories.find(c => c.id === categoryFromUrl)) {
                    setSelectedCategory(categoryFromUrl);
                }
            }, []);
            
            useEffect(() => {
                const url = new URL(window.location);
                if (selectedCategory === 'all') {
                    url.searchParams.delete('category');
                } else {
                    url.searchParams.set('category', selectedCategory);
                }
                window.history.replaceState({}, '', url);
            }, [selectedCategory]);
            
            const categories = [
                { id: 'all', name: 'Tout', icon: 'üè†' },
                // Streetwear & Urbain
                { id: 'streetwear-men', name: 'Streetwear Homme', icon: 'üëü' },
                { id: 'streetwear-women', name: 'Streetwear Femme', icon: 'üëü' },
                { id: 'y2k-men', name: 'Y2K Homme', icon: 'üíø' },
                { id: 'y2k-women', name: 'Y2K Femme', icon: 'üíø' },
                { id: 'techwear-men', name: 'Techwear Homme', icon: 'üîß' },
                { id: 'techwear-women', name: 'Techwear Femme', icon: 'üîß' },
                { id: 'skate-men', name: 'Skate Homme', icon: 'üõπ' },
                { id: 'skate-women', name: 'Skate Femme', icon: 'üõπ' },
                { id: 'hip-hop-men', name: 'Hip-Hop Homme', icon: 'üé§' },
                { id: 'hip-hop-women', name: 'Hip-Hop Femme', icon: 'üé§' },
                
                // Vintage & R√©tro
                { id: 'vintage-90s-men', name: 'Vintage 90s Homme', icon: 'üìº' },
                { id: 'vintage-90s-women', name: 'Vintage 90s Femme', icon: 'üìº' },
                { id: 'vintage-80s-men', name: 'Vintage 80s Homme', icon: 'üì∫' },
                { id: 'vintage-80s-women', name: 'Vintage 80s Femme', icon: 'üì∫' },
                { id: 'retro-sport-men', name: 'Retro Sport Homme', icon: 'üèÄ' },
                { id: 'retro-sport-women', name: 'Retro Sport Femme', icon: 'üèÄ' },
                { id: 'grunge-men', name: 'Grunge Homme', icon: 'üé∏' },
                { id: 'grunge-women', name: 'Grunge Femme', icon: 'üé∏' },
                { id: 'disco-men', name: 'Disco Homme', icon: 'üï∫' },
                { id: 'disco-women', name: 'Disco Femme', icon: 'üï∫' },
                
                // Esth√©tiques Modernes
                { id: 'minimalist-men', name: 'Minimalist Homme', icon: '‚ö™' },
                { id: 'minimalist-women', name: 'Minimalist Femme', icon: '‚ö™' },
                { id: 'cottagecore-men', name: 'Cottagecore Homme', icon: 'üåª' },
                { id: 'cottagecore-women', name: 'Cottagecore Femme', icon: 'üåª' },
                { id: 'soft-girl', name: 'Soft Girl', icon: 'üå∏' },
                
                // Classiques Intemporels
                { id: 'classic-men', name: 'Classique Homme', icon: 'üëî' },
                { id: 'classic-women', name: 'Classique Femme', icon: 'üëó' },
                { id: 'business-men', name: 'Business Homme', icon: 'üíº' },
                { id: 'business-women', name: 'Business Femme', icon: 'üíº' },
                { id: 'casual-men', name: 'Casual Homme', icon: 'üëï' },
                { id: 'casual-women', name: 'Casual Femme', icon: 'üëï' },
                
                // Sport & Athleisure
                { id: 'athleisure-men', name: 'Athleisure Homme', icon: 'üèÉ‚Äç‚ôÄÔ∏è' },
                { id: 'athleisure-women', name: 'Athleisure Femme', icon: 'üèÉ‚Äç‚ôÄÔ∏è' },
                { id: 'gym-men', name: 'Gym Homme', icon: 'üí™' },
                { id: 'gym-women', name: 'Gym Femme', icon: 'üí™' },
                { id: 'yoga-men', name: 'Yoga Homme', icon: 'üßò‚Äç‚ôÄÔ∏è' },
                { id: 'yoga-women', name: 'Yoga Femme', icon: 'üßò‚Äç‚ôÄÔ∏è' },
                { id: 'running-men', name: 'Running Homme', icon: 'üèÉ‚Äç‚ôÇÔ∏è' },
                { id: 'running-women', name: 'Running Femme', icon: 'üèÉ‚Äç‚ôÇÔ∏è' },
                
                // Occasions Sp√©ciales
                { id: 'festival-men', name: 'Festival Homme', icon: 'üé™' },
                { id: 'festival-women', name: 'Festival Femme', icon: 'üé™' },
                { id: 'party-men', name: 'Soir√©e Homme', icon: 'üéâ' },
                { id: 'party-women', name: 'Soir√©e Femme', icon: 'üéâ' },
                { id: 'beach-men', name: 'Plage Homme', icon: 'üèñÔ∏è' },
                { id: 'beach-women', name: 'Plage Femme', icon: 'üèñÔ∏è' },
                { id: 'formal-men', name: 'Formal Homme', icon: 'ü•Ç' },
                { id: 'formal-women', name: 'Formal Femme', icon: 'ü•Ç' }
            ];
            
            const handleCreatePin = async () => {
                setError('');
                
                if (!newPin.title) {
                    setError('Veuillez ajouter un titre');
                    return;
                }
                
                if (!newPin.imageUrl) {
                    setError('Veuillez ajouter une image');
                    return;
                }
                
                if (!newPin.board) {
                    setError('Veuillez s√©lectionner une cat√©gorie');
                    return;
                }
                
                try {
                    console.log('D√©but cr√©ation pin...');
                    
                    const pinData = {
                        title: newPin.title,
                        description: newPin.description || null,
                        image_url: newPin.imageUrl,
                        author_name: 'Vous',
                        author_avatar: 'https://i.pravatar.cc/150?img=0',
                        board: newPin.board,
                        saves: 0,
                        is_saved: false,
                        height: Math.floor(Math.random() * 200) + 300
                    };
                    
                    console.log('Donn√©es √† ins√©rer:', pinData);
                    
                    // Test simple d'abord
                    const { data, error } = await supabase
                        .from('pins')
                        .insert([pinData]);
                    
                    console.log('Insertion r√©sultat:', { data, error });
                    
                    if (error) {
                        console.error('Erreur insertion:', error);
                        throw new Error(error.message);
                    }
                    
                    // Recharger les donn√©es depuis Supabase
                    await loadPins();
                    
                    // R√©initialiser le formulaire
                    setNewPin({
                        title: '',
                        description: '',
                        board: '',
                        imageUrl: '',
                        imageFile: null
                    });
                    setShowModal(false);
                    
                } catch (err) {
                    console.error('Erreur cr√©ation pin compl√®te:', err);
                    setError('Erreur: ' + err.message);
                }
            };
            
            const exportData = () => {
                const data = {
                    pins: pins,
                    exportDate: new Date().toISOString()
                };
                const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `pinspire-backup-${new Date().toISOString().split('T')[0]}.json`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
            };
            
            const importData = (event) => {
                const file = event.target.files?.[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = (e) => {
                        try {
                            const data = JSON.parse(e.target.result);
                            if (data.pins && Array.isArray(data.pins)) {
                                setPins(data.pins);
                                localStorage.setItem('pinspire-pins', JSON.stringify(data.pins));
                                alert('Import r√©ussi ! ' + data.pins.length + ' v√™tements import√©s.');
                            } else {
                                alert('Format de fichier invalide');
                            }
                        } catch (error) {
                            alert('Erreur lors de l\'import : ' + error.message);
                        }
                    };
                    reader.readAsText(file);
                }
            };
            
            const filteredPins = selectedCategory === 'all' 
                ? pins 
                : pins.filter(pin => pin.board === selectedCategory);
            
            // Affichage du chargement
            if (loading) {
                return (
                    <div className="min-h-screen flex items-center justify-center">
                        <div className="text-center">
                            <div className="animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto mb-4"></div>
                            <p className="text-gray-600">Chargement de vos pins...</p>
                        </div>
                    </div>
                );
            }
            
            return (
                <div className="min-h-screen">
                    <header className="bg-white shadow-sm sticky top-0 z-40">
                        <div className="max-w-7xl mx-auto px-4 py-4 flex items-center justify-between">
                            <h1 className="text-2xl font-bold text-red-600">Pinspire Fashion</h1>
                            <div className="flex gap-2">
                                <button 
                                    onClick={exportData}
                                    className="bg-gray-600 text-white px-4 py-2 rounded-full hover:bg-gray-700"
                                    title="Exporter les donn√©es"
                                >
                                    <i className="fas fa-download"></i>
                                </button>
                                <label className="bg-gray-600 text-white px-4 py-2 rounded-full hover:bg-gray-700 cursor-pointer" title="Importer les donn√©es">
                                    <i className="fas fa-upload"></i>
                                    <input
                                        type="file"
                                        accept=".json"
                                        onChange={importData}
                                        className="hidden"
                                    />
                                </label>
                                <button 
                                    onClick={() => setShowModal(true)}
                                    className="bg-red-600 text-white px-6 py-2 rounded-full hover:bg-red-700"
                                >
                                    <i className="fas fa-plus mr-2"></i>Cr√©er
                                </button>
                            </div>
                        </div>
                    </header>
                    
                    <div className="max-w-7xl mx-auto px-4 py-6">
                        <div className="flex gap-2 overflow-x-auto pb-2">
                            {categories.map(cat => (
                                <button 
                                    key={cat.id} 
                                    onClick={() => setSelectedCategory(cat.id)}
                                    className={`px-4 py-2 rounded-full whitespace-nowrap transition-colors ${
                                        selectedCategory === cat.id 
                                            ? 'bg-red-600 text-white' 
                                            : 'bg-white hover:bg-red-50'
                                    }`}
                                >
                                    <span className="mr-2">{cat.icon}</span>
                                    {cat.name}
                                </button>
                            ))}
                        </div>
                    </div>
                    
                    <main className="max-w-7xl mx-auto px-4 py-6">
                        {filteredPins.length === 0 ? (
                            <div className="text-center py-20">
                                <i className="fas fa-camera text-6xl text-gray-300 mb-4"></i>
                                <p className="text-xl text-gray-500 mb-4">
                                    {selectedCategory === 'all' ? 'Aucune publication pour le moment' : 'Aucune publication dans cette cat√©gorie'}
                                </p>
                                <button 
                                    onClick={() => setShowModal(true)}
                                    className="bg-red-600 text-white px-8 py-3 rounded-full hover:bg-red-700"
                                >
                                    <i className="fas fa-plus mr-2"></i>Ajouter votre premier v√™tement
                                </button>
                            </div>
                        ) : (
                            <div className="columns-2 md:columns-3 lg:columns-4 gap-4">
                                {filteredPins.map(pin => (
                                    <div key={pin.id} className="break-inside-avoid mb-4 group relative">
                                        <div className="bg-white rounded-lg overflow-hidden shadow-sm hover:shadow-xl transition-all duration-300 cursor-pointer"
                                             onClick={() => window.open(pin.image_url, '_blank')}>
                                            {/* Bouton de suppression */}
                                            <button
                                                onClick={(e) => {
                                                    e.stopPropagation();
                                                    deletePin(pin.id);
                                                }}
                                                className="absolute top-2 right-2 bg-red-600 text-white p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity z-10 hover:bg-red-700"
                                                title="Supprimer ce v√™tement"
                                            >
                                                <i className="fas fa-trash text-xs"></i>
                                            </button>
                                            
                                            {/* Badge de la cat√©gorie */}
                                            <div className="absolute top-2 left-2 bg-black bg-opacity-60 text-white px-2 py-1 rounded text-xs">
                                                {pin.board}
                                            </div>
                                            
                                            <img 
                                                src={pin.image_url} 
                                                alt={pin.title} 
                                                className="w-full hover:scale-105 transition-transform duration-300"
                                                style={{ 
                                                    minHeight: '300px',
                                                    objectFit: 'contain'
                                                }}
                                            />
                                            <div className="p-3">
                                                <h3 className="font-medium text-sm truncate font-semibold">{pin.title}</h3>
                                                <p className="text-xs text-gray-500 mt-1">{pin.board}</p>
                                                <div className="flex items-center justify-between mt-3">
                                                    <div className="flex items-center gap-2">
                                                        <img 
                                                            src={pin.author_avatar} 
                                                            alt={pin.author_name}
                                                            className="w-6 h-6 rounded-full"
                                                        />
                                                        <span className="text-xs text-gray-600">{pin.author_name}</span>
                                                    </div>
                                                    <div className="flex items-center gap-1">
                                                        <i className="fas fa-heart text-xs text-red-500"></i>
                                                        <span className="text-xs text-gray-600">{pin.saves}</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        )}
                    </main>
                    
                    {showModal && (
                        <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50">
                            <div className="bg-white rounded-xl p-6 max-w-md w-full">
                                <h2 className="text-xl font-bold mb-4">Ajouter un v√™tement</h2>
                                
                                {error && (
                                    <div className="mb-4 p-3 bg-red-50 border border-red-200 rounded-lg">
                                        <p className="text-red-600 text-sm font-medium">{error}</p>
                                    </div>
                                )}
                                
                                <div className="mb-4">
                                    <div
                                        className={`border-2 border-dashed rounded-lg p-6 text-center cursor-pointer transition-colors ${
                                            newPin.imageUrl 
                                                ? 'border-green-500 bg-green-50' 
                                                : 'border-gray-300 hover:border-red-500'
                                        } ${isUploading ? 'opacity-50 cursor-not-allowed' : ''}`}
                                        onClick={() => {
                                            if (!isUploading) {
                                                uploadImageToCloudinary()
                                                    .then(url => {
                                                        setNewPin(prev => ({
                                                            ...prev,
                                                            imageUrl: url
                                                        }));
                                                        setError('');
                                                    })
                                                    .catch(err => {
                                                        setError('Erreur lors de l\'upload: ' + err.message);
                                                    });
                                            }
                                        }}
                                    >
                                        {isUploading ? (
                                            <div className="space-y-3">
                                                <div className="animate-spin rounded-full h-8 w-8 border-b-2 border-red-600 mx-auto"></div>
                                                <p className="text-gray-600 font-medium">Upload en cours...</p>
                                            </div>
                                        ) : newPin.imageUrl ? (
                                            <div className="space-y-3">
                                                <img 
                                                    src={newPin.imageUrl} 
                                                    alt="Preview" 
                                                    className="w-full h-32 object-cover rounded mx-auto"
                                                />
                                                <p className="text-green-600 font-medium text-sm">Image upload√©e sur Cloudinary!</p>
                                            </div>
                                        ) : (
                                            <div className="space-y-3">
                                                <i className="fas fa-cloud-upload-alt text-3xl text-gray-400"></i>
                                                <p className="text-gray-600 font-medium">Cliquez pour uploader une image</p>
                                                <p className="text-xs text-gray-500">Stockage persistant sur Cloudinary</p>
                                            </div>
                                        )}
                                    </div>
                                </div>
                                
                                <input 
                                    type="text" 
                                    placeholder="Titre" 
                                    value={newPin.title}
                                    onChange={(e) => setNewPin(prev => ({ ...prev, title: e.target.value }))}
                                    className="w-full p-3 border rounded-lg mb-3" 
                                />
                                <select 
                                    value={newPin.board}
                                    onChange={(e) => setNewPin(prev => ({ ...prev, board: e.target.value }))}
                                    className="w-full p-3 border rounded-lg mb-3"
                                >
                                    <option value="">S√©lectionner une cat√©gorie</option>
                                    
                                    <optgroup label="üî• Streetwear & Urbain">
                                        <option value="streetwear-men">Streetwear Homme</option>
                                        <option value="streetwear-women">Streetwear Femme</option>
                                        <option value="y2k-men">Y2K Homme</option>
                                        <option value="y2k-women">Y2K Femme</option>
                                        <option value="techwear-men">Techwear Homme</option>
                                        <option value="techwear-women">Techwear Femme</option>
                                        <option value="skate-men">Skate Homme</option>
                                        <option value="skate-women">Skate Femme</option>
                                        <option value="hip-hop-men">Hip-Hop Homme</option>
                                        <option value="hip-hop-women">Hip-Hop Femme</option>
                                    </optgroup>
                                    
                                    <optgroup label="üìº Vintage & R√©tro">
                                        <option value="vintage-90s-men">Vintage 90s Homme</option>
                                        <option value="vintage-90s-women">Vintage 90s Femme</option>
                                        <option value="vintage-80s-men">Vintage 80s Homme</option>
                                        <option value="vintage-80s-women">Vintage 80s Femme</option>
                                        <option value="retro-sport-men">Retro Sport Homme</option>
                                        <option value="retro-sport-women">Retro Sport Femme</option>
                                        <option value="grunge-men">Grunge Homme</option>
                                        <option value="grunge-women">Grunge Femme</option>
                                        <option value="disco-men">Disco Homme</option>
                                        <option value="disco-women">Disco Femme</option>
                                    </optgroup>
                                    
                                    <optgroup label="‚ú® Esth√©tiques Modernes">
                                        <option value="minimalist-men">Minimalist Homme</option>
                                        <option value="minimalist-women">Minimalist Femme</option>
                                        <option value="cottagecore-men">Cottagecore Homme</option>
                                        <option value="cottagecore-women">Cottagecore Femme</option>
                                        <option value="soft-girl">Soft Girl</option>
                                    </optgroup>
                                    
                                    <optgroup label="üëî Classiques Intemporels">
                                        <option value="classic-men">Classique Homme</option>
                                        <option value="classic-women">Classique Femme</option>
                                        <option value="business-men">Business Homme</option>
                                        <option value="business-women">Business Femme</option>
                                        <option value="casual-men">Casual Homme</option>
                                        <option value="casual-women">Casual Femme</option>
                                    </optgroup>
                                    
                                    <optgroup label="üèÉ Sport & Athleisure">
                                        <option value="athleisure-men">Athleisure Homme</option>
                                        <option value="athleisure-women">Athleisure Femme</option>
                                        <option value="gym-men">Gym Homme</option>
                                        <option value="gym-women">Gym Femme</option>
                                        <option value="yoga-men">Yoga Homme</option>
                                        <option value="yoga-women">Yoga Femme</option>
                                        <option value="running-men">Running Homme</option>
                                        <option value="running-women">Running Femme</option>
                                    </optgroup>
                                    
                                    <optgroup label="üéâ Occasions Sp√©ciales">
                                        <option value="festival-men">Festival Homme</option>
                                        <option value="festival-women">Festival Femme</option>
                                        <option value="party-men">Soir√©e Homme</option>
                                        <option value="party-women">Soir√©e Femme</option>
                                        <option value="beach-men">Plage Homme</option>
                                        <option value="beach-women">Plage Femme</option>
                                        <option value="formal-men">Formal Homme</option>
                                        <option value="formal-women">Formal Femme</option>
                                    </optgroup>
                                </select>
                                <textarea 
                                    placeholder="Description" 
                                    value={newPin.description}
                                    onChange={(e) => setNewPin(prev => ({ ...prev, description: e.target.value }))}
                                    className="w-full p-3 border rounded-lg mb-3" 
                                    rows="3"
                                ></textarea>
                                <div className="flex gap-3">
                                    <button 
                                        onClick={() => {
                                            setShowModal(false);
                                            setNewPin({
                                                title: '',
                                                description: '',
                                                board: '',
                                                imageUrl: '',
                                                imageFile: null
                                            });
                                        }}
                                        className="flex-1 py-3 border rounded-lg hover:bg-gray-50"
                                    >
                                        Annuler
                                    </button>
                                    <button 
                                        onClick={handleCreatePin}
                                        className="flex-1 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700"
                                    >
                                        Publier
                                    </button>
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        }
        
        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
